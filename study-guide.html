<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Guide - Stretch It Out!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Courier+New&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; }
        .math { font-family: 'Courier New', monospace; }
        .search-input { 
            transition: all 0.3s ease;
            border: 2px solid #E0E0E0;
        }
        .search-input:focus {
            border-color: #1976D2;
            box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.1);
        }
        .section-card {
            background: linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 4px solid var(--accent-color);
        }
        .section-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        .collapsible-header {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .collapsible-header:hover {
            background-color: #F8F9FA;
        }
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .collapsible-content.expanded {
            max-height: 1000px;
        }
        .formula-box {
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
            border: 2px solid #1976D2;
        }
        .cheat-sheet {
            background: linear-gradient(135deg, #FFF9C4 0%, #FFE082 100%);
            border: 2px solid #F57F17;
        }
        .question-item {
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }
        .question-item:hover {
            background-color: #F8F9FA;
            border-left-color: #1976D2;
        }
        .filter-btn {
            transition: all 0.3s ease;
        }
        .filter-btn.active {
            background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%);
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(25, 118, 210, 0.3);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50">
    <!-- Home Button -->
    <button onclick="navigateTo('index.html')" class="fixed top-4 left-4 w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center hover:bg-blue-700 transition-all duration-300 z-50 shadow-lg">
        <span class="text-lg">üè†</span>
    </button>

    <!-- Header -->
    <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-8">
        <div class="container mx-auto px-8">
            <h1 class="text-5xl font-bold text-center mb-4">üìñ Complete Study Guide</h1>
            <p class="text-center text-blue-100 text-xl">Master function transformations with comprehensive reference materials</p>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="container mx-auto px-8 py-6">
        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <div class="flex items-center space-x-4">
                <div class="flex-1 relative">
                    <input type="text" id="searchInput" placeholder="Search concepts, formulas, or questions..." 
                           class="search-input w-full px-6 py-4 rounded-xl text-lg outline-none">
                    <button class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600 transition-colors">
                        üîç
                    </button>
                </div>
                <div class="flex space-x-2">
                    <button onclick="filterContent('all')" class="filter-btn active bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-full font-medium">
                        All
                    </button>
                    <button onclick="filterContent('vertical')" class="filter-btn bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-full font-medium">
                        Vertical
                    </button>
                    <button onclick="filterContent('horizontal')" class="filter-btn bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-full font-medium">
                        Horizontal
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Reference -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Vertical Transformations -->
            <div class="section-card rounded-2xl p-6 shadow-lg" style="--accent-color: #1976D2;">
                <div class="collapsible-header flex items-center justify-between p-4 rounded-xl" onclick="toggleSection('vertical')">
                    <div class="flex items-center space-x-3">
                        <div class="text-3xl">‚¨ÜÔ∏è</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-800">Vertical Transformations</h3>
                            <p class="text-gray-600">Up and down changes</p>
                        </div>
                    </div>
                    <div class="text-2xl text-blue-600" id="vertical-arrow">‚ñº</div>
                </div>
                
                <div class="collapsible-content" id="vertical-content">
                    <div class="p-4 space-y-4">
                        <div class="formula-box rounded-xl p-4">
                            <h4 class="font-bold text-blue-800 mb-2">Formula:</h4>
                            <div class="math text-lg font-bold text-blue-900">y = a ¬∑ f(x)</div>
                        </div>
                        
                        <div class="space-y-3">
                            <div class="bg-blue-50 rounded-lg p-3">
                                <h5 class="font-semibold text-blue-800 mb-1">Vertical Stretch (a > 1)</h5>
                                <p class="text-blue-700 text-sm">Makes the graph taller. Example: y = 3sin(x)</p>
                            </div>
                            <div class="bg-blue-50 rounded-lg p-3">
                                <h5 class="font-semibold text-blue-800 mb-1">Vertical Shrink (0 < a < 1)</h5>
                                <p class="text-blue-700 text-sm">Makes the graph shorter. Example: y = 0.5x¬≤</p>
                            </div>
                        </div>
                        
                        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3">
                            <h5 class="font-semibold text-yellow-800 mb-1">üí° Remember:</h5>
                            <p class="text-yellow-700 text-sm">Multiply OUTSIDE the function to change height</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Horizontal Transformations -->
            <div class="section-card rounded-2xl p-6 shadow-lg" style="--accent-color: #43A047;">
                <div class="collapsible-header flex items-center justify-between p-4 rounded-xl" onclick="toggleSection('horizontal')">
                    <div class="flex items-center space-x-3">
                        <div class="text-3xl">‚û°Ô∏è</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-800">Horizontal Transformations</h3>
                            <p class="text-gray-600">Left and right changes</p>
                        </div>
                    </div>
                    <div class="text-2xl text-green-600" id="horizontal-arrow">‚ñº</div>
                </div>
                
                <div class="collapsible-content" id="horizontal-content">
                    <div class="p-4 space-y-4">
                        <div class="formula-box rounded-xl p-4">
                            <h4 class="font-bold text-blue-800 mb-2">Formula:</h4>
                            <div class="math text-lg font-bold text-blue-900">y = f(b ¬∑ x)</div>
                        </div>
                        
                        <div class="space-y-3">
                            <div class="bg-green-50 rounded-lg p-3">
                                <h5 class="font-semibold text-green-800 mb-1">Horizontal Shrink (b > 1)</h5>
                                <p class="text-green-700 text-sm">Makes the graph narrower. Example: y = sin(2x)</p>
                            </div>
                            <div class="bg-green-50 rounded-lg p-3">
                                <h5 class="font-semibold text-green-800 mb-1">Horizontal Stretch (0 < b < 1)</h5>
                                <p class="text-green-700 text-sm">Makes the graph wider. Example: y = cos(x/2)</p>
                            </div>
                        </div>
                        
                        <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3">
                            <h5 class="font-semibold text-yellow-800 mb-1">‚ö†Ô∏è Important:</h5>
                            <p class="text-yellow-700 text-sm">Horizontal changes work inversely! b > 1 = shrink</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- All Questions -->
        <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">Complete Question Bank</h2>
            <p class="text-center text-gray-600 mb-8">All 30 questions with detailed explanations</p>
            
            <div class="space-y-4" id="questionsList">
                <!-- Questions will be generated by JavaScript -->
            </div>
        </div>

        <!-- Formula Cheat Sheet -->
        <div class="cheat-sheet rounded-2xl shadow-lg p-8 mb-8 sticky bottom-8">
            <h2 class="text-2xl font-bold text-orange-900 mb-6 text-center">üìã Formula Cheat Sheet</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="text-center">
                    <div class="math text-lg font-bold text-orange-900 mb-2">y = a¬∑f(x)</div>
                    <div class="text-orange-800 text-sm">Vertical</div>
                </div>
                <div class="text-center">
                    <div class="math text-lg font-bold text-orange-900 mb-2">y = f(b¬∑x)</div>
                    <div class="text-orange-800 text-sm">Horizontal</div>
                </div>
                <div class="text-center">
                    <div class="math text-lg font-bold text-orange-900 mb-2">y = -f(x)</div>
                    <div class="text-orange-800 text-sm">Reflection (x-axis)</div>
                </div>
                <div class="text-center">
                    <div class="math text-lg font-bold text-orange-900 mb-2">y = f(-x)</div>
                    <div class="text-orange-800 text-sm">Reflection (y-axis)</div>
                </div>
            </div>
            
            <div class="mt-6 text-center">
                <button onclick="navigateTo('graph-lab.html')" class="bg-orange-600 hover:bg-orange-700 text-white px-8 py-3 rounded-full font-semibold transition-colors">
                    üîß Try Interactive Graph
                </button>
            </div>
        </div>
    </div>

    <script>
        // Complete question bank with all 30 questions
        const allQuestions = [
            {
                id: 1,
                question: "Which equation represents a vertical stretch by a factor of 3 of the parent function y = f(x)?",
                options: ["y = f(3x)", "y = 3f(x)", "y = f(x/3)", "y = ‚Öì f(x)"],
                correct: 1,
                explanation: "A vertical stretch by factor 3 means multiplying the function output by 3: y = 3f(x)",
                category: "vertical"
            },
            {
                id: 2,
                question: "Which equation represents a horizontal shrink by a factor of ¬Ω of the parent function y = f(x)?",
                options: ["y = f(¬Ωx)", "y = ¬Ω f(x)", "y = f(2x)", "y = 2f(x)"],
                correct: 2,
                explanation: "A horizontal shrink by factor ¬Ω means multiplying the input by 2: y = f(2x)",
                category: "horizontal"
            },
            {
                id: 3,
                question: "Which transformation is applied to y = ‚àöx to get y = ‚àö(4x)?",
                options: ["Vertical stretch by 4", "Horizontal stretch by 4", "Vertical shrink by ¬º", "Horizontal shrink by ¬º"],
                correct: 3,
                explanation: "y = ‚àö(4x) = ‚àö4 ¬∑ ‚àöx = 2‚àöx, which is a vertical stretch by 2, or equivalently, a horizontal shrink by ¬º",
                category: "horizontal"
            },
            {
                id: 4,
                question: "The function y = 5|x| is a transformation of y = |x|. What is it?",
                options: ["Horizontal stretch by 5", "Vertical stretch by 5", "Horizontal shrink by 5", "Vertical shrink by ‚Öï"],
                correct: 1,
                explanation: "Multiplying the function by 5: y = 5|x| creates a vertical stretch by factor 5",
                category: "vertical"
            },
            {
                id: 5,
                question: "Which equation causes a horizontal stretch of the cubic function y = x¬≥?",
                options: ["y = (4x)¬≥", "y = 4x¬≥", "y = (¬ºx)¬≥", "y = ¬º x¬≥"],
                correct: 2,
                explanation: "A horizontal stretch means multiplying the input by a fraction: y = (¬ºx)¬≥",
                category: "horizontal"
            },
            {
                id: 6,
                question: "The graph of y = sin(x) is transformed to y = sin(2x). What is the effect?",
                options: ["The period is halved; horizontal shrink by ¬Ω", "The period is doubled; horizontal stretch by 2", "The amplitude is doubled; vertical stretch by 2", "The amplitude is halved; vertical shrink by ¬Ω"],
                correct: 0,
                explanation: "y = sin(2x) compresses the graph horizontally by factor ¬Ω, making the period half as long",
                category: "horizontal"
            },
            {
                id: 7,
                question: "Which of the following equations represents a vertical shrink?",
                options: ["y = 0.25 log(x)", "y = log(0.25x)", "y = 4 log(x)", "y = log(4x)"],
                correct: 0,
                explanation: "y = 0.25 log(x) multiplies the function output by 0.25, creating a vertical shrink",
                category: "vertical"
            },
            {
                id: 8,
                question: "Starting with y = x¬≤, which sequence produces y = (2x)¬≤?",
                options: ["Horizontal shrink by ¬Ω", "Vertical stretch by 2", "Horizontal stretch by 2", "Vertical shrink by ¬Ω"],
                correct: 0,
                explanation: "y = (2x)¬≤ represents a horizontal shrink by factor ¬Ω",
                category: "horizontal"
            },
            {
                id: 9,
                question: "The point (2, 4) on y = x¬≤ moves to (2, 1) after a transformation. Which equation describes the new function?",
                options: ["y = ¬º x¬≤", "y = (¬º x)¬≤", "y = 4x¬≤", "y = (4x)¬≤"],
                correct: 0,
                explanation: "The y-value changed from 4 to 1, which is ¬º of the original, so y = ¬º x¬≤",
                category: "vertical"
            },
            {
                id: 10,
                question: "For the function y = ‚àõx, which transformation results in y = ‚àõ(x/5)?",
                options: ["Horizontal stretch by 5", "Horizontal shrink by 5", "Vertical stretch by 5", "Vertical shrink by 5"],
                correct: 0,
                explanation: "y = ‚àõ(x/5) represents a horizontal stretch by factor 5",
                category: "horizontal"
            },
            {
                id: 11,
                question: "Which statement about y = a‚Ä¢f(b‚Ä¢x) is FALSE?",
                options: ["If |a| > 1, it's a vertical stretch.", "If |b| > 1, it's a horizontal shrink.", "If 0 < |a| < 1, it's a vertical stretch.", "If 0 < |b| < 1, it's a horizontal stretch."],
                correct: 2,
                explanation: "If 0 < |a| < 1, it's a vertical shrink, not a stretch",
                category: "mixed"
            },
            {
                id: 12,
                question: "The amplitude of y = cos(x) is changed from 1 to 0.6. What is the transformation?",
                options: ["Horizontal stretch", "Horizontal shrink", "Vertical stretch", "Vertical shrink"],
                correct: 3,
                explanation: "Changing amplitude from 1 to 0.6 means multiplying by 0.6, which is a vertical shrink",
                category: "vertical"
            },
            {
                id: 13,
                question: "Which equation is the result of applying a vertical stretch by 7 to y = 1/x?",
                options: ["y = 1/(7x)", "y = 7/x", "y = 1/(x/7)", "y = (7/x)¬≤"],
                correct: 1,
                explanation: "Vertical stretch by 7: y = 7 ¬∑ (1/x) = 7/x",
                category: "vertical"
            },
            {
                id: 14,
                question: "A horizontal shrink affects which coordinate of the original graph's points?",
                options: ["y-coordinate only", "x-coordinate only", "Both coordinates", "The origin only"],
                correct: 1,
                explanation: "Horizontal transformations only affect the x-coordinates of points",
                category: "horizontal"
            },
            {
                id: 15,
                question: "The function y = f(x) is transformed to y = f(3x) + 2. What is one component of this transformation?",
                options: ["Vertical shift up 2", "Horizontal shrink by ‚Öì", "Vertical stretch by 3", "Horizontal stretch by 3"],
                correct: 1,
                explanation: "f(3x) represents a horizontal shrink by factor ‚Öì",
                category: "horizontal"
            },
            {
                id: 16,
                question: "The period of a transformed tangent function is œÄ/3. If the parent period is œÄ, what horizontal transformation occurred?",
                options: ["Shrink by ‚Öì", "Stretch by 3", "Shrink by 3", "Stretch by ‚Öì"],
                correct: 2,
                explanation: "Period changed from œÄ to œÄ/3, so the function was compressed by factor 3: y = tan(3x)",
                category: "horizontal"
            },
            {
                id: 17,
                question: "Which transformation maps the graph of y = e^x to y = e^(0.2x)?",
                options: ["Horizontal stretch by 5", "Horizontal shrink by 5", "Vertical stretch by 5", "Vertical shrink by 5"],
                correct: 0,
                explanation: "y = e^(0.2x) represents a horizontal stretch by factor 5",
                category: "horizontal"
            },
            {
                id: 18,
                question: "For the quadratic y = ax¬≤, how does the graph's \"width\" change if |a| increases?",
                options: ["It becomes wider.", "It becomes narrower.", "Width does not change.", "It shifts horizontally."],
                correct: 1,
                explanation: "As |a| increases, the parabola becomes narrower (vertical stretch)",
                category: "vertical"
            },
            {
                id: 19,
                question: "Starting from y = ‚àöx, to get a graph that rises *more steeply*, you would apply:",
                options: ["A horizontal stretch.", "A horizontal shrink.", "A vertical stretch.", "A vertical shrink."],
                correct: 2,
                explanation: "A vertical stretch makes the graph rise more steeply",
                category: "vertical"
            },
            {
                id: 20,
                question: "The point (1, 1) on y = x lies on a transformed line y = kx. If the line is steeper, which is true about k?",
                options: ["0 < k < 1", "k = 1", "k > 1", "k < 0"],
                correct: 2,
                explanation: "A steeper line through the origin has slope k > 1",
                category: "vertical"
            },
            {
                id: 21,
                question: "Which is NOT a correct description of y = 0.1(10x)¬≥ compared to y = x¬≥?",
                options: ["A vertical shrink by 0.1", "A horizontal shrink by 1/10", "The combined effect is y = x¬≥", "A vertical stretch by 10"],
                correct: 3,
                explanation: "y = 0.1(10x)¬≥ = 0.1¬∑1000x¬≥ = 100x¬≥, which is a vertical stretch by 100, not 10",
                category: "mixed"
            },
            {
                id: 22,
                question: "If y = f(x) passes through (4, 8), where does y = 2f(¬Ωx) pass through, assuming the same input x=4?",
                options: ["(4, 4)", "(4, 16)", "(8, 8)", "(8, 16)"],
                correct: 3,
                explanation: "y = 2f(¬Ω¬∑4) = 2f(2). If f(4)=8, then f(2) might be different, but if we assume f(2)=8, then y=16",
                category: "mixed"
            },
            {
                id: 23,
                question: "Which equation represents a horizontal stretch by a factor of 4 applied to y = f(x)?",
                options: ["y = f(4x)", "y = 4f(x)", "y = f(x/4)", "y = ¬º f(x)"],
                correct: 2,
                explanation: "Horizontal stretch by factor 4: y = f(x/4)",
                category: "horizontal"
            },
            {
                id: 24,
                question: "For y = bÀ£, a horizontal shrink would be represented by:",
                options: ["y = (b·µè)À£ where k > 1", "y = k(bÀ£) where k > 1", "y = b^(À£/·µè) where k > 1", "y = (kb)À£ where k > 1"],
                correct: 0,
                explanation: "y = (b·µè)À£ = b^(k¬∑x) where k > 1 represents a horizontal shrink",
                category: "horizontal"
            },
            {
                id: 25,
                question: "The graph of y = x¬≥ is made twice as \"wide\" horizontally. What is the new equation?",
                options: ["y = (2x)¬≥", "y = 2x¬≥", "y = (x/2)¬≥", "y = (x¬≥)/2"],
                correct: 2,
                explanation: "Twice as wide means horizontal stretch by 2: y = (x/2)¬≥",
                category: "horizontal"
            },
            {
                id: 26,
                question: "A vertical stretch multiplies the ______ of every point by the stretch factor.",
                options: ["x-coordinate", "y-coordinate", "slope", "distance from origin"],
                correct: 1,
                explanation: "Vertical stretch multiplies the y-coordinates by the stretch factor",
                category: "vertical"
            },
            {
                id: 27,
                question: "Comparing y = |x| and y = |5x|, the vertex is unchanged, but other points:",
                options: ["Move closer to the y-axis.", "Move farther from the y-axis.", "Move closer to the x-axis.", "Move farther from the x-axis."],
                correct: 0,
                explanation: "y = |5x| compresses horizontally, moving points closer to the y-axis",
                category: "horizontal"
            },
            {
                id: 28,
                question: "Which transformation, applied to y = f(x), would make the graph appear \"flatter\" or less steep?",
                options: ["Vertical stretch", "Vertical shrink", "Horizontal shrink", "Reflection"],
                correct: 1,
                explanation: "Vertical shrink makes the graph appear flatter",
                category: "vertical"
            },
            {
                id: 29,
                question: "The function y = ¬º f(2x) involves:",
                options: ["A vertical stretch and horizontal stretch.", "A vertical shrink and horizontal stretch.", "A vertical shrink and horizontal shrink.", "A vertical stretch and horizontal shrink."],
                correct: 2,
                explanation: "¬º is vertical shrink, 2 is horizontal shrink: y = ¬º f(2x)",
                category: "mixed"
            },
            {
                id: 30,
                question: "If c > 1 and d > 1, the transformation y = c ‚Ä¢ f(d ‚Ä¢ x) results in:",
                options: ["A graph that is taller and narrower than f(x).", "A graph that is shorter and wider than f(x).", "A graph that is taller and wider than f(x).", "A graph that is shorter and narrower than f(x)."],
                correct: 0,
                explanation: "c > 1 makes it taller, d > 1 makes it narrower",
                category: "mixed"
            }
        ];

        let filteredQuestions = allQuestions;
        let searchTerm = '';

        // Initialize page
        function initPage() {
            generateQuestionsList();
            setupSearch();
            animateEntrance();
        }

        // Generate questions list
        function generateQuestionsList() {
            const container = document.getElementById('questionsList');
            container.innerHTML = '';

            filteredQuestions.forEach((question, index) => {
                const questionItem = document.createElement('div');
                questionItem.className = `question-item bg-gray-50 rounded-xl p-4 cursor-pointer`;
                questionItem.dataset.category = question.category;
                questionItem.dataset.id = question.id;
                
                questionItem.innerHTML = `
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <div class="flex items-center space-x-3 mb-2">
                                <span class="bg-blue-600 text-white text-sm font-bold px-2 py-1 rounded">Q${question.id}</span>
                                <span class="text-xs px-2 py-1 rounded-full ${getCategoryColor(question.category)}">${question.category}</span>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-2">${question.question}</h4>
                            <div class="grid grid-cols-2 gap-2 mb-3">
                                ${question.options.map((option, optIndex) => `
                                    <div class="text-sm text-gray-600 p-2 bg-white rounded ${optIndex === question.correct ? 'border-2 border-green-500' : ''}">
                                        ${String.fromCharCode(65 + optIndex)}) ${option}
                                    </div>
                                `).join('')}
                            </div>
                            <div class="text-sm text-gray-600">
                                <strong>Answer:</strong> ${String.fromCharCode(65 + question.correct)}) ${question.options[question.correct]}
                            </div>
                        </div>
                        <button onclick="toggleExplanation(${question.id})" class="text-blue-600 hover:text-blue-800 text-sm font-medium ml-4">
                            üìö Explanation
                        </button>
                    </div>
                    <div id="explanation-${question.id}" class="hidden mt-4 p-3 bg-blue-50 rounded-lg">
                        <p class="text-blue-800 text-sm">${question.explanation}</p>
                        <div class="mt-2">
                            <button onclick="navigateToPractice(${question.id})" class="text-blue-600 hover:text-blue-800 text-xs font-medium">
                                üîß Practice this question
                            </button>
                        </div>
                    </div>
                `;

                container.appendChild(questionItem);
            });
        }

        // Get category color
        function getCategoryColor(category) {
            switch(category) {
                case 'vertical': return 'bg-blue-100 text-blue-800';
                case 'horizontal': return 'bg-green-100 text-green-800';
                case 'mixed': return 'bg-purple-100 text-purple-800';
                default: return 'bg-gray-100 text-gray-800';
            }
        }

        // Toggle section
        function toggleSection(section) {
            const content = document.getElementById(`${section}-content`);
            const arrow = document.getElementById(`${section}-arrow`);
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                arrow.textContent = '‚ñº';
            } else {
                content.classList.add('expanded');
                arrow.textContent = '‚ñ≤';
            }
        }

        // Toggle explanation
        function toggleExplanation(questionId) {
            const explanation = document.getElementById(`explanation-${questionId}`);
            if (explanation.classList.contains('hidden')) {
                explanation.classList.remove('hidden');
                anime({
                    targets: explanation,
                    maxHeight: [0, 200],
                    opacity: [0, 1],
                    duration: 300,
                    easing: 'easeOutCubic'
                });
            } else {
                anime({
                    targets: explanation,
                    maxHeight: [200, 0],
                    opacity: [1, 0],
                    duration: 300,
                    easing: 'easeOutCubic',
                    complete: () => {
                        explanation.classList.add('hidden');
                    }
                });
            }
        }

        // Setup search functionality
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function() {
                searchTerm = this.value.toLowerCase();
                filterQuestions();
            });
        }

        // Filter content
        function filterContent(category) {
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter questions
            if (category === 'all') {
                filteredQuestions = allQuestions;
            } else {
                filteredQuestions = allQuestions.filter(q => q.category === category);
            }

            generateQuestionsList();
        }

        // Filter questions based on search
        function filterQuestions() {
            if (searchTerm === '') {
                filteredQuestions = allQuestions;
            } else {
                filteredQuestions = allQuestions.filter(question => 
                    question.question.toLowerCase().includes(searchTerm) ||
                    question.explanation.toLowerCase().includes(searchTerm) ||
                    question.options.some(option => option.toLowerCase().includes(searchTerm))
                );
            }
            generateQuestionsList();
        }

        // Navigate to practice
        function navigateToPractice(questionId) {
            // Store the question ID for the graph lab to pre-load
            localStorage.setItem('practiceQuestionId', questionId);
            navigateTo('graph-lab.html');
        }

        // Animate entrance
        function animateEntrance() {
            anime({
                targets: '.section-card, .bg-white',
                translateY: [50, 0],
                opacity: [0, 1],
                delay: anime.stagger(200),
                duration: 800,
                easing: 'easeOutCubic'
            });

            anime({
                targets: '.cheat-sheet',
                translateY: [100, 0],
                opacity: [0, 1],
                delay: 1500,
                duration: 800,
                easing: 'easeOutCubic'
            });
        }

        // Navigation
        function navigateTo(page) {
            anime({
                targets: 'body',
                opacity: [1, 0.8],
                duration: 300,
                complete: () => {
                    window.location.href = page;
                }
            });
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initPage();
        });
    </script>
</body>
</html>